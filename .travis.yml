language: go
go:
- 1.10.x
before_install:
- find $GOPATH/src/github.com/ -depth -exec rename 's/(.*)\/([^\/]*)/$1\/\L$2/' {}
  \;
after_install:
- find $GOPATH/src/github.com/ -depth -exec rename 's/(.*)\/([^\/]*)/$1\/\L$2/' {}
  \;
stages:
- compile
- test
- name: acceptance
  if: branch = master OR type = pull_request
jobs:
  include:
  - stage: compile
    script: make
  - stage: test
    script: make unit
  - stage: acceptance
    script: make integration
notifications:
  slack: ignw:IxpMZ19gbbzU0vAM2SjvGtFx
env:
  global:
  - secure: ABXu83lEyJ8sVZYPZucC1bJenwJoyOX9pCIIFY3pny1NJdjqgLJLSy8kQF/Sje4iGF83zkWdVcmpowgWTJQZYP3M3NiTezzI0KmyuHRAdfy8tiCv8LXZ98Vt0cZA4gytdNCFj+NOgtEGrQbITx0usetuh+IDY6OCy90/2M/Uuaba65a7pA9LprbadekE19H1ULEPbduf+IfZSvlRsavWk0jezp4yaq+KgjpVj9cFKPjLCILg7CPU3vZ+xlg3Mco/8hyw7WXhUGxDp4gb8lo1EHLnO+cjQEp2SaVVUhQP2Bzeeb5Ori5r+/HNZWbroFHRnJ6R6/Uj7zyTQIWkjY8G8G+4QMIqCt4D17BNM+6dh4WJ8aHY4h/YDjON6jK+OCiUqHw4wgsJcy85JalUsE3cebpX0j69z7MhWaRCWsFF8vZVQo307r/bnQGyFMvK4KzM2DP1ycyrv/1TXKlUJ8Xay9hVSgEMNjoYs22wpLaLp9KhajNWLKo891o+dWE0vOrtqcGUvpwEm6meJTbCNwlplfEbAnUATewuPZZWCSHph9vYc3vWVwu57M+Q3gBg2dvkPT8juhcbM5Pxf0IoBErDlCBXUB7ozLTmepGJ+iWszF5dCNuSS8LE2v/KpBYtVUG5j2drwvIpFmFjiazA/+v0MKpnTZ/MR2A4jSMVkx7L3tQ=
  - secure: x23AF0WWzBpzogN+pgxrloonrS+omEV/ouo/nFbU6fCQoyovtlW3Gf6pSnCJ5aHD2h7qY9UNbqCxTcSA3IaoRtZsNuaS0n2BH5QzshNn9CRnjLmOV6S0VAmTxTHqx4/BVNwCinK09YXrWtM0+zuGyviE7YlExokZCoI+UMjO7s395zNkiyolGVInlTXTSdeD8gUhDX/MNVsX2DQPXgXlIqL2dhi0PQNVVsY6fzDUjrc3CnQf29u/PWCM180PpJmd0OtGxyzbcqZBzQDC07PYrWN1ijgLa6ss8gfnLwsqA9f8flJkck+vt0a7HVq7dL2VMhZKtlnooyD8mOZZ2hXtSKeZvsMXYN7UzvzqrO33TpO/7AOKQyJBxRUkmY7xvHGk/llxcyo1rP3w4x8NbwsAZ2nPOV1K6XI5ViFn+3iJOK5AGEJqSBTO3VodAEXwDTboZ05EhNUZqyBnH7dwzeWd0UsQEDLE2YZyuzrKV5+YtaQaekbihg1uKOCoxjSNdaUhtcYgfgWTXtQ3DgI9PrO++nEhCVsy6ujlofS981aFirm2blxvQIueM3MR82EkA0gYigYl9XgDovUbWcSwOXvNtTk5+bj/3+TO2bn1EhxO5SEA+UW6mPpa2Flxyr0U+Cy+0IfKmRCew/nx3ChAeFXkg9ga4xqyAvZhN+Q8ZNnhWTM=
  - secure: LDOGB3P4Nm3Jh61pskYIM455xksNxfw2WbAghoemD02naMOJVZdrl/U/uPG5j7cQdZmjgMwfA90AO/d+5AazoJUGRhXRZ8hZ3GBFXX/fCtG62ry4Fu/KFBmz2NuxyyFIyj0pD7t7P7MwWwa5mcaB9TgA3UEi0men4G/kG8bNIp6jvj5Nv1AoShfP1YiCl8/YSH69pznPwLoCOCFP34ONV2QnSyCkKw0jflUjeeae9IaFSsMEDK7K91LKk2DbXt+ABwTIAVuaM84Oc7LPZrJO9jQPqNGJE+JjPrRkkU771r3YTcvc+7AxoZMtPJo/uLuf5CWvN+dEKUrPAVOi9z8+JJ6EmLxjSG2Pi9rvZafgpzBzUp/dkSnEMlBCYJnnXkt1pVpRxbpIo+GQIdSaNf1p5gi7HKMuldqWplildBkkMUoSsZPrEO5ANehM9OHUqZAVD/15BoI8BXeSE9FnW2suvIrKyRNevzfdAyHvaObz/fr7OktprDqkmvrIDOMieqA2h/eWGxr2DcsMnE1L7ZR11u0TTSsTQleyXOA2X2O38SrbetnE583DVHAbe/clelbsy955tFfedItpSbeUu89/5uNjJK5DQUTh8aWktDhm1Ya4Kn34F1Tnh+wf8n+fcT6UoBSUaD+ye+mOYfsnx1mkNqmYAEspi5AIF+frqVlgC/I=
  - secure: JBIMuuz3mnAK0IZapVZ+LFXgeXI5eidmdfA49Uzh5eXcxgY7SJGhBjzNIV57tHxqzeyv0OlExBA9MK/tiZbI1VOLQQyY+lleScMbdjukieDZh2Y2YvTBO315KHPDsyf4dZMAIqCQCrcTQ/m33az6xZQ9FbVJneLsK0EOHWD7SgEKkzpeCQB0ul0Ktt3aw3y1bo5gGTO5eraVIbLGaLwDEl2S0LPaJPEdZXai7qkvfWkB1b3HeJF+uknShC9AHaRa2HfhHamsPmGFaDMOVlLQqPbAUL2ovi3mHJpL9L+4suudIUV/sqcfsVkVEkzOz9ve8/NgcpcNu0mq5IRfo/3UnagO8bbn3bqAIcBAEjNNTy4GKoznexfSQ9Une4uxHNnYPB5aQO5Eio/1l54GQhooZim4xxt1LWGpUX742BQrhbWTRAtbb5h74V2AXlDAhe88WWEYYKcRAK9RSGaQHLioDPAdgwdcusVjklGA3YAO8jFfAfH2TP9Ph90Ru1YyC+sUg437ejBogk1YegAB5SNJtUjTjwqqOEOimvIyuYHqN5oManZ/dcMIsLF4nDXcTjPCd38XYXntYyoZotP4a3nEotoG5PHD0aHcUvWk6dShN7HolRPxI89T667d7aJL4cpG2opgJ2VT2Z4eN0wa2ezWS0rrdl2sll2pUYpVNwZmPyk=
