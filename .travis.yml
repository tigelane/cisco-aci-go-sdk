language: go
go:
- 1.10.x
before_install:
- find $GOPATH/src/github.com/ -depth -exec rename 's/(.*)\/([^\/]*)/$1\/\L$2/' {}
  \;
after_install:
- find $GOPATH/src/github.com/ -depth -exec rename 's/(.*)\/([^\/]*)/$1\/\L$2/' {}
  \;
stages:
- compile
- test
- name: acceptance
  if: branch = master OR type = pull_request
jobs:
  include:
  - stage: compile
    script: make
  - stage: test
    script: make unit
  - stage: acceptance
    script: make integration
notifications:
  slack: ignw:IxpMZ19gbbzU0vAM2SjvGtFx
env:
  global:
  - secure: O5f9RE3ZK65JpkwL4WaOohdbk6eIrr3GL7a2AevF+Io/njPKWRk7nIn9stQmloWT8LwMeWffzLgjtxZv+k+2o9n2FUW2DZXcf8cz9DV9aBaQuY6ZyIVI/rEt1xrGtZFuxfmg13acy6a3D8eSjjtdlXFH1jlvgJUdUXp990hZOMVdCuo+70vXQAV2xCyvPFdXJBlf1sQAzC26DJ+uD7EdajvjktA2TvSg5t7DLoHwqX+iORpWCFarBXsT1n1Vy/apuLuxumxRNYqlfDRuEAfzWMfAuf8HmNSnRiiyswu5Nbi/12WXRA3cirT/O62mG1YVQPG/df+DpOxSaDU/SOcYpEe3PINM6HdIWyDq4eH9+mGp0YhD7Eg4NB+9riZ5HrW5ahlAgSpmNmPzYah25hY0ea4p58xaGNFH1F5u2Cdvq9XESPfniAd3EmeqEpN2h3tLEJWr9JozHXytPoMuIWMeRp3LukOgoZczMm1WD2pY3e9KKW2TVVxeznoI4DneCHLm/GkfUwP4B5+BMpl4+WElQK7oEaDlnEbGI0YPnpPGuqXbVGa+DGIWvRgChZkRnbWF6fpY1TI/mvRfjDzeO/MWEQXXpiVgDoetwbDOynsMWmocDcYaMPJST2fUrHbKB0EKI/VO1D9UdXHrv8NxJG4X62djKW0UfawVoiu7mvLqLFw=
  - secure: fJWgD4VKNhYN4ozkl7EckUg5IqIEn/D/NsrGm5iMwsDCeh9wDuzCOR3QrGLOHrFWvlfZKWoWuNF8z5Y8chKg0kKPBGeBe7zPtpB4jtgOfneV1ernqp+DOftm8yYdFFdN/tn13K9LVzXB8jO0yPxNzUo9gR0u3FiCx4pdHm2WWdkv98gzOV6eiOS99xv1tQ0u0j5dlg3bOdJfNcLHF6zkuJB408qnEGs3xzMfhkwU4MdxncN8lUxLahwMiHTpgXMf5YgcPkqEn3qFrEi2DLLXGmudK8lwj5HaeCoUnPZzuIwObfKzcgDjY1JY2DndlrwaBXXavCZw9VRdt1XFD8ruivQHoljobuMznIPKsxFjMM3fAGTa4aujpld3gC3YdJ9xYEGyqlZJVMPrt/f4Yzl8abSGlStJVU91aDqkcU5GDPg3qD0Ho64EoSdaOmhIviG7rKPUcPXi5z/b7ARIxwNEIheqpZCNWUa4SJZIhSLz2YQr+wWrsyI2Rbo77Z0+7HGPEm9E2lo11BVU1ORquwh58IkDJz8SuKNLNP7YOSIZtRwyOc0+Y8z0nHbyEZ53iVPSm/2eWWb653wbPZXDG/U1vn+uKAvVypOeXJY0qHgePlVqHuWdqjRgipu5cCBJ4+xtyos5Eaq46mT+N1UW//lYIDXSdznaF94TwNAEO6lsbMM=
  - secure: Pw+1pCZisblWFfRQUpDI1Z7y9/hpSD+1w5tvYmzPJKZOAcWxtXNKCW55wfijLflQR144M7r/XCSJU5sTriEH+5ZR8KJT6UpMazRy7Vgw3JFdWjSawqyv2XYyngY2Uqydvq72GOGcl0rGz6BiXY4Lg/Wt5whJAMezkuBg0itH8+MPL+s3bddiVjoi1A8Hgt+CAvjLTWxBc4oOkJuCFBLmV3VOl/pZfxiyNDyUAAMruB5eFgiT3/DREC4orSrja7s7QiTu75gjkrVIjnsilzRR3h4NBAahOwWE7+WR/XRhUwcIIVK0HMrITNAwOIphE+fSPmFyiGvRvA0J4snwz6eXaXPm3cJ5ME//46i5NPoyhL2AHma76HTOyv73R3uqviK9e6LpSzkKqFQn0gWzjG1Nl6ie8ULlf219szmNrZxNG6ZCk0dUAMxi6Y3HjRUO1vxsRezKnWNIxigFl+1MPBNjQbUpU+67Oq4qCWs8WdAy/JtphxJc9I4MbKF5c6idBaGRb4gM+S/Y628pUs5xT1P67aA2fGrYcalI4+EHcOermrs8pb8n/LfulokMeORmJOMpU2b/iUHaRVaZTV0Kfe3ruevx8KOMYlB+9N0bJGGa54N6ItAgf0P+fAmac1s7W3LU5Q/ewghjowRHIx3ybDA6GQE3vzFeU2Bzel5AsYixNKM=
  - secure: QXbkAFAhwwm1rf4RBFudjUmnfpdxR4w7qE9kFojewpowoJr8Bry5OY9zM4LyhxmBtx4cggPIWlM6XpnOuO4ghQJeKwJ80nMZwSGoUXrciy6jq+ekKbL+hY3JzswGBOIVRfCveAr5t5mL8Gvwkwb4ThNZcCjqpil4CFGNEoMnswbInP4RrpO3KKEH+hu4elIZ0fYaxkd8OuOZsxxBdaEIt1HfI+nrg7upx8CV7/OgRupkTsmT5k7fsO+1DhjBd8Vw/Bp5C15mYIj6OarbuzXa7ezVP5uGvCBh1R3nNJaw0vy2uiVrKXfhTXacQhG/2y1ORjcbjsd/hxKb9xEph8v4GZrrPkW0QWHQE3Y1JJ3+PfaGVANILDAViHVzIXpirxcDFIcpsPJqSDsBMjrCr9pDiZy0DlZ4HJa9BR8GAtHDpUtK24XhhUE/FOvZVrgGCB0UNbIK59nufvoB4Y8wTyFQAP8P6w3zNLR7YXLPIulrt8JhWg214T1yg+utukFMJHuj93upM/LpinpLsesDxgRjHpBTLx2H7ONS4YxZtaAB7WdgPh+mY9HKtqYKO3efYYp9oUny08rlPL6HUtK7Z1eWiQMdGVsHROPvmJmB2cxUrnSOkv+kvzGPIYoe7dotsCw5qhBI5IhghNY7OjOwqldFbFd59xMhG8hoBN1mLg2njcw=
