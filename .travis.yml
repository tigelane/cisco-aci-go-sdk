language: go
go:
- 1.10.x
before_install:
- find $GOPATH/src/github.com/ -depth -exec rename 's/(.*)\/([^\/]*)/$1\/\L$2/' {}
  \;
after_install:
- find $GOPATH/src/github.com/ -depth -exec rename 's/(.*)\/([^\/]*)/$1\/\L$2/' {}
  \;
stages:
- compile
- test
- name: acceptance
  if: branch = master OR type = pull_request
jobs:
  include:
  - stage: compile
    script: make
  - stage: test
    script: make unit
  - stage: acceptance
    script: make integration
notifications:
  slack: ignw:IxpMZ19gbbzU0vAM2SjvGtFx
env:
  global:
  - secure: g1uiGqwzl2k4wJmf7R2teRcetXJIjuwgeDMXPBEDGBbBOIf/SwCyZA0aDS6WjL9ub9IEZhYlOnYUybcgVOfKKba0I0rkRe9lEjMcdNNiWvgKfvldPTXCRPDB11ETs/S9mSOQ+vkHOjPSM9xNHGvhRaMDwScqBnEUTQE6UayqxS7Lgal2yb36sAcuz0AUrFNjWWTp6unMyL9y4RcO15fjwq6th79rNn25C9hdPdfXnHS78U8eQV3/8jjnSnS3G8XjxSiniAHwJSm5WP8zYxHxkOnljJPj+87cQbR5mHuHRpxySsWTgfqvTWwL7hag6GpDbB2jAOSmNORnisRkLW1od/xmHJAYwLWM1VWnKfBdtjCRYoN55M29mhTADQMNxwPVYCTn750e76NdYdQt7+weZDpjNfyTsZa+fVVpxxRx9Hu8CTJFgB03Rr3ZqaIaVRsU4GJKDOfGfTKbSSjq9wwiIaNKEQO77Sk9kN4FJUl4OF98ddN0OaoCjMqP0QwBhtW+AezbtEHGdYnY6VXGf8g71/fNZ0RajEGOnDMdiL8lo7GqFolD9dPeIvMSP8Xp1U+VtoNLjT26owUKaUjQyQCEOIGWYNTf+vbj58rwykWW+YD4W+GQHdHaQ+9Nw5DCv4GihU/FjRivmoCc7oKl4rXTm2pJVLjnZoB3WvelYk9Fm1k=
  - secure: eE9Hqlv5Hwc5Bt0QWRnSArEtqRADU6w5M1zZXGwxgbbQMhOcxD+iMj+zGT3mFgUVqcLlUQYwPhZwrmj116Ljc3I4bNV3Q54td4915Byhkv7kGqrRgwU0cebVuzyF0/iSGboAnFvXww14YMrbcqohxTHIGeLVr+0Kpgobt0JfMSzcAuIQCSP/Z0S8c7YLVGJWmCXqDB0uQ4MjOTN94Dk6w/OUQmKJEKQlqYalo1A0XvwpGCkTJn+0C1HvO/NIpYNzKYAbsPVrKMPu66jnwSXv80tEOVWyBcwoTxWPCSobeoIJf2Y0zP97pREYpLwB9Wtqpd93f1Ma0MDVOSA1s16FRwBHkdnuXKF62RN1B68oDdBGWWQ5+6R1hqLt42zT1hUcsBDWhK2c84PrFfg3A4Z93rmTNI8eCPXgk6b/m60uZdxX7eM71979DFkh0XCdX8xwvhPUfz9UxjZc50inpu2yBvZUnDvg382RXHqyp9psxRuQ+UAGWdrsw8wNtv2NdmHOlKzmHpMxHCNWP6hunMEI7ATcwVKKR9iAjgCnQ02q6cBfkvURZiRNeTzsxNXJJ9r9plR2hJ4dJSNRv3vdwtZe3v+PonbBKE8Rrf9qGO3IIiBqtEA/+U9Qb7owVI3hygACDopJokjAP4e0UXY3E+s8FwPkdxTam3WwXsg3caUfrH0=
  - secure: PMisz36HkrSLd5gBy1qy5DVNQIiQTtBd2/94/Ts8CWfWQ9CZI0x5kdzwy6asg20ljWhiddmNUPv9obbGzOzpkpx6cWMmoeVg61CqXlhLXy4eUKPK0mBcWg7/N5zb7k9Tn/CwZ/v6tuaZUnwfs/Fu0PJq+e3swRQXvbSsObNzjIEP4JCNfXvHpndNNYYrQw2F8AtpjQJzLnEpELwRagjMTlVYY4tha+Og8q8A6VHgetPvUbuxFyZD09i7lkf3eTfDSxdbqAVdus+razfUTcRllmWSMTsVxLM4crP//++vLJfahnUdFFBLuQMGJdy5k3HnVlTj6P55e78wxvs4D40b+9q8EDrJ0bVmvPZ+Bjwy1VDgwCgfdKelc+NvHfSScrptDSFwzzAp4VaAwknsmOMnbxq1zupFx7IEHF0mR+cw9Dyr13Tl48S0+9o/dEmiaHvyc5tO1swS1FZATIMVzPY172TZzXzx0fjhFVT+hRle2qfTEeU83KpNLyFw4B//Fa7vrQaU+iFA8Z5kAbGKgLD30mQkFeh2XfbtT42O7F31jXQ0yLVAuK37oGd2YzQO4yyn74oUSmYMBXiRieuYgVU7nOBf+KbTjpAQBNosKxFJ4GiwDjG4vhLTK0TlXUMcwsrP32YuSIFoT87cvKqn93BDV8eEwb5CghTVKzrD6oWun2A=
  - secure: MneMKU0GU2t1eHAqy0tQJnpiUUqItopbDYXuY52xVeXWcUNkqDvb+qqgN7oekAZ0eRQ35EhTnqocfoc4Ozle/F9HitR6BAUkWutaRFdBw69bMcd4Sj42X8esAnA6kuZVmajnTEku4CdEPNuoS025DcDGhpm4lsngVOvnsSH6Dl52WvHebTqCbceR8o4EOA2Z60PIrRFZBQ06aaBxgzNPjTHhNjPX+TuuCyj1GoiSZ1ZqBLLdztM6LQTQtJiFwkIitGY/kg48MCVzeo34cnZku7IgfT075XSl1SLt5XN2MGESogftnnxu1DBqv0bpP8Qtd7oh7/lnu3m9eEu5Hb6tP+MGHqtAV4dXxj1qn6t/yhKAeiUbyLxvfMDKd/1HsaD/ZPURiMR3HjHf9bW662bSBebC+xUpJeGJ5N7hLQ7QAR9wJgF5Pgnxzy/vUSc2aCMPiA9VUgNN7cCTNFkkB14MQyYJsi23YNEVtWN6gJyjvt5bl1stpFkhw1auSojcVA0Mc8a3wHlbcy3TVDkVG/+rmSnSZQ7pDarWArUhjV0bKFdeqEhyKv2vvMVZvdG2YQs0FyTZYnGXGh1xlXos8W4CXTR5ToySQeElECCilqDkLpgSHgpPfl+39HYXgGhIWyyIhPyF2l9XMd+AZ7vilGTEPSvgWTtzLqqGfQQc5s3tkn4=
