language: go
go:
- 1.10.x
before_install:
- find $GOPATH/src/github.com/ -depth -exec rename 's/(.*)\/([^\/]*)/$1\/\L$2/' {}
  \;
after_install:
- find $GOPATH/src/github.com/ -depth -exec rename 's/(.*)\/([^\/]*)/$1\/\L$2/' {}
  \;
stages:
- compile
- test
- name: acceptance
  if: branch = master OR type = pull_request
jobs:
  include:
  - stage: compile
    script: make
  - stage: test
    script: make unit
  - stage: acceptance
    script: make integration
notifications:
  slack: ignw:IxpMZ19gbbzU0vAM2SjvGtFx
env:
  global:
    secure: ArJrU0Gyxj661aMeUIXJp6sLAGVQB2xAuGaFdAI3vl221G5JUTHD955ACJD5JRcMIWU2KIMUHn2e6BGVjZGeuSw1Tk3d0uCp0cpGpMhAnsOfNevm96FWZK0sJrdO5wbybw3ISLgCgK3jFHXs1K/MdM3ArP+4Z1906JnSRx0ShOs0iVhO1TS65jzcw4kvhPupZzz7vf7lHthurzLseubetu4vLo2KcYXkMIyvplINRA1tnCBlx8HLZSYMaJaHd8N/oocIjA/OG9z5XwIHtwTeUzqHe9+/i5PL43VRA0Q5iEgP5D+oymxdhbcWtmLJy54zEMYdFw7YQmCkEQ+7w1hLN+NUWnR9coq1GB3W0W711n3xk+BRcNAGdXRoO0vS6mqr25dDA4nm+PDQdgQjsHj10h7K4Ylz2SUAPizDK4D8RmOb3gMzxOJA4XeRoLZPgXSSfD6GmKrXlM0ebGh6gIIvb2+bQmut5tiKNx2Wq6GsDXp8oZ30Dr3RZs+PDZdNZZxThRRrr2cO+BCO8L1BZ/catdMmA4SUpuv+aOHMBD+dVOfsOKlXjbL4sUXFksa3WRLUCfsyQF/PVKHbE/xKubp8cun2xqfc6P3kUmhg/VfOY4eijK/uTm6Lq0lI8mlV8bdxMBYBGQVoxqOC7hzivGy+zS5A+frXvWqg/Gjocl7whno=
